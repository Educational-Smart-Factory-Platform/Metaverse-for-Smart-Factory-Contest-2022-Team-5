# Metaverse for Smart Factory Contest 2022
Repository นี้เป็นการเผยแพร่ผลงานการแข่งขัน [Metaverse for Smart Factory Contest 2022](https://smartfactory.hcilab.net/contest/metaverse2022/) ซึ่งผู้เข้าร่วมการแข่งขันยินยอมให้เผยแพร่ Source Code ทั้งหมดหรือบางส่วนของโปรแกรมจำลองการทำงาน (Simulation) โดยเป็น Source Code ส่วนการเชื่อมต่อระหว่างโปรแกรมจำลองการทำงาน (Simulation) และ TeleSorting System  มีวัตถุประสงค์เผยแพร่เพื่อให้นำไปใช้ในการศึกษา โดยมิได้อนุญาตให้นำไปใช้เชิงพาณิชย์ใด ๆ ทั้งสิ้น 

## ชื่อผลงาน แฟกทิเกรต(Factegrate)
### ที่มาและความสำคัญ
ในปัจจุบันโรงงานส่วนใหญ่เริ่มมีการเปลี่ยนจากการใช้แรงงานมนุษย์มาเป็นหุ่นยนต์ (automation) เนื่องจากมีปัญหาจากมนุษย์มากมายที่กระทบกับกระบวนการผลิตสินค้า ไม่ว่าจะเป็นผลจากค่าครองชีพที่สูงขึ้น อัตราเงินเฟ้อในประเทศไทยประจำเดือน มิถุนายน 2565 ปรับตัวสูงขึ้นถึง 7.66% ทำให้ต้นทุนที่ใช้ในการว่าจ้างแรงงานสูงขึ้นตามการใช้แรงงานมนุษย์ในกระบวนการผลิตสินค้า ทั้งการคัดแยกสินค้า การตรวจสอบคุณภาพสินค้า นอกจากจะใช้เวลานานแล้ว ยังมีโอกาสเกิดความผิดพลาดที่เกิดจากคน (Human error) ซึ่งส่งผลให้การผลิตสินค้าเป็นไปอย่างล่าช้า เสียหาย หรือผิดพลาดได้ ซึ่งประสิทธิภาพและเวลาที่ใช้ยังด้อยกว่าเครื่องจักร ประกอบกับเครื่องจักรอุตสาหกรรมมีความทนทานสูง อัตราซ่อมบำรุงที่ต่ำ และสามารถใช้ได้ยาวนานหลายปี เพื่อพัฒนาโรงงานให้สามารถแข่งขันในอนาคตได้อย่างยั่งยืน จึงเกิดแนวคิดโรงงานอัจฉริยะ (Smart Factory) ซึ่งเป็นการใช้เทคโนโลยี เช่น Artificial Intelligence (AI) หรือ Internet of Things (IoT) เข้ากับเครื่องจักรต่าง ๆ ในการควบคุมกระบวนการผลิตภายในโรงงาน สร้างการทำงานที่เป็นระบบอัตโนมัติและสามารถควบคุมจากระยะไกลได้ นอกจากจะเข้ากับสถานการณ์โรคระบาดโควิด-19 ที่พนักงานโรงงานไม่สามารถเข้าไปทำงานในโรงงาน ยังทำให้การควบคุมกระบวนการผลิตทำได้ทุกที่ทุกเวลา โดยที่พนักงานโรงงานไม่จำเป็นต้องอยู่หน้าเครื่องจักรตลอดเวลา ทางคณะผู้พัฒนาจึงมีความสนใจที่จะสร้างโรงงานอัจฉริยะ โดยการประยุกต์ใช้เทคโนโลยี IoT และ Digital Twins ผนวกกับเทคโนโลยี Telesorting System ลงบน Web Application เพื่อสร้างโรงงานที่สามารถควบคุมหรือจำลองกระบวนการผลิตจากทางไกล สามารถเห็นภาพกระบวนการทำงานภายในของโรงงานได้โดยไม่จำเป็นต้องเข้ามาภายในโรงงานจริง และยังสามารถกำหนดปริมาณสินค้าที่จะสั่งและเลือกชนิดสินค้าได้ด้วยตนเอง นอกจากนี้ยังมี Dashboard ที่ใช้แสดงผลการทำงานและค่าสถานะต่าง ๆ ที่จำเป็นจากของเครื่องจักรในโรงงาน
### วัตถุประสงค์
1. เพื่อลดต้นทุนด้านแรงงานและ Production costs ของโรงงานอัจฉริยะ
2. เพื่อเพิ่มประสิทธิภาพกระบวนการผลิตสินค้าในโรงงานอัจฉริยะ
3. เพื่อยกระดับโรงงานอัจฉริยะเข้าสู่เทคโนโลยี Metaverse โดยการใช้ Internet of Things, Digital Twins และ TeleSorting System
4. เพื่อจำลองโรงงานอัจฉริยะโดยใช้ CoppeliaSim 
5. เพื่อสร้าง Dashboard ในการรวบรวมและแสดงข้อมูลสถานะของโรงงานอัจฉริยะ
6. เพื่อให้ผู้ใช้งานจำลองหรือควบคุมกระบวนการผลิตทางไกลได้
### ประโยชน์ที่ได้รับ
1. สามารถลดต้นทุนด้านแรงงานและ Production costs ของโรงงานอัจฉริยะ
2. สามารถเพิ่มประสิทธิภาพการทำงานของกระบวนการผลิต
3. สามารถยกระดับโรงงานอัจฉริยะเข้าสู่เทคโนโลยี Metaverse โดยการใช้ Internet of Things, Digital Twins และ TeleSorting System
4. สามารถจำลองโรงงานอัจฉริยะโดยใช้ CoppeliaSim และ
5. สามารถสร้าง Dashboard ในการรวบรวมและแสดงข้อมูลสถานะของโรงงานอัจฉริยะ
6. ผู้ใช้งานสามารถจำลองหรือควบคุมกระบวนการผลิตทางไกลได้ 
### ภาพรวมระบบ
เพื่อตอบสนองความต้องการและความก้าวหน้าของเทคโนโลยีในปัจจุบันทางผู้พัฒนาจึงเล็งเห็นถึงความสำคัญของการนำเทคโนโลยี Smart factory โดยการติดตั้ง Sensors และ Actuators ไว้ตามส่วนการทำงานต่างๆในโรงงานเพื่อสามารถส่งออกข้อมูลเป็น API ออกมาพัฒนาเป็นระบบจำลองการทำงานของโรงงานแบบเรียลไทม์หรือเรียกอีกชื่อว่า Digital Twins โดยผู้พัฒนาจะนำโปรแกรม Coppelia Simulator เข้ามาช่วยในการจำลองการทำงานของโรงงานโดยรับข้อมูลการทำงาน  ต่าง ๆ จาก API ที่ส่งออกมาผ่าน Sensor และเพื่อที่จะนำเสนอการจำลองการทำงาน ( Digital Twins ) นี้ ได้แบบ Real time ผู้ใช้งานสามารถดูได้จากโปรแกรม Coppelia Simulation ที่มีการทำงานแบบ near real time นอกจากนี้ผู้พัฒนาได้พัฒนาให้ Web Application สามารถปรับเปลี่ยนการทำงานของ Telesorting System ผ่านการปรับจูนค่าต่าง ๆ ของ Sensors และ Actuators ด้วยตัวผู้ใช้เอง หรือผู้ใช้ยังสามารถให้ระบบปรับจูนค่าเองแบบอัตโนมัติได้ผ่านการกำหนด Final Product เข้าไปใน Web Application ซึ่งหลังการปรับจูนค่าผู้ใช้ยังสามารถเลือกได้ว่าจะ Simulation เพื่อตรวจเช็คขั้นตอนต่าง ๆ ของระบบผ่าน Web Application ก่อน หรือจะ Apply ค่าต่าง ๆ เข้าไปในโรงงานจริงเลยโดยมี API เป็นสื่อกลางในการติดต่อและจะมีการอัพเดตผ่าน Digital Twins เพื่อให้ผู้ใช้เห็นขั้นตอนการทำงานในโรงงานจริงต่อไป
เพื่อให้ผู้ใช้เห็นภาพรวมของข้อมูลที่เกี่ยวข้องกับระบบ ระบบจึงยังสามารถแสดง Dashboard ที่ทำหน้าที่แสดงองค์ประกอบต่าง ๆ ทั้งหมดที่เกิดขึ้นในโรงงาน ณ ขณะนั้น ซึ่งสุดท้ายในส่วนการคำนวนยังสามารถต่อยอดด้วยการใช้ Artificial Intelligence (AI) ทำนายความน่าจะเป็นที่เครื่องจักรพัง หรือการใช้ในการตัดสินใจในการวางแผนการผลิตตามหลัก Heijunka สำหรับในกรณีที่โรงงานต้องผลิตผลผลิตหลายแบบที่มีความซับซ้อนต่างกันมาก เพื่อเฉลี่ยกำลังการผลิตของชิ้นงานแต่ละแบบให้เท่ากันมากที่สุด
ในส่วนของรายละเอียดการจัดเก็บข้อมูลของโรงงานเพื่อให้มีการจัดเก็บข้อมูลที่มีประสิทธิภาพและรวดเร็ว เมื่อ Sensor ในโรงงานทำการส่งข้อมูลผ่านทาง API ผู้พัฒนาจะนำโปรแกรมมาเป็นตัวกลางในการดึงข้อมูลอย่างต่อเนื่องแทนการดึงข้อมูลแบบรายครั้งโดยมนุษย์ ซึ่งในส่วนการทำงานตรงนี้ผู้จัดทำเลือกที่จะใช้ โปรแกรม Power Automate ในการดึงข้อมูลจากโรงงานผ่านทาง API จากนั้นจึงนำไปสร้างเป็น Database เก็บไว้ และประมวลผลเป็น Dashboard ในลำดับถัดไป ผู้พัฒนาจึงเลือกโปรแกรม PowerBI ในการสร้าง Dashboard เพื่อนำเสนอข้อมูลที่ถูกส่งออกมาจากโรงงานด้วยการสรุปรายละเอียดการคัดแยกสินค้าในรูปแบบของแผนภาพสรุปผล โดยในส่วนนี้ทางผู้จัดทำได้ทำการประเมินว่าใน Dashboard ของระบบ Telesorting ในโรงงานควรแสดงผลออกมาในรูปแบบใดบ้าง อาธิเช่น ปริมาณของสินค้าแต่ละประเภทที่ถูกคัดเลือก, ช่วงเวลาและเครื่องจักรที่ทำการคัดเลือกสินค้า, คุณภาพของสินค้าที่ถูกคัดเลือกและสถานะการทำงานของเครื่องจักรในแต่ละภาคส่วนจากนั้นจึงขึ้นแสดงผลแบบ real time ใน Web Application

![Screenshot (827)](https://user-images.githubusercontent.com/114386015/194354258-51be06ba-e3d9-4ee6-9cde-f4632fe681f9.png)

### คลิปสาธิตผลงาน
https://youtu.be/odf0Kl2lWZI

## รายชื่อสมาชิกทีม RanGuayTeaw
1. พลอยชมพู ตุลสุข
2. วสุพล เฮงศรีธวัช
3. ธีรวัฒน์ เชื้อพันธ์งาม
4. กฤติน ถิระศักดิ์
5. ปิยะวัชร์ หมื่นศรี
6. ธัชพงศ์ สังข์ถาวร
7. ชรันธร พิมลจินดา
8. รวิน เอกภาณุศิริ
9. นภัสสร เตชะสมบูรณากิจ
10. จิราวรรณ ประทุมใจอ่อน
### ช่องทางการติดต่อ
Email: ploychomphu.ths@gmail.com 
